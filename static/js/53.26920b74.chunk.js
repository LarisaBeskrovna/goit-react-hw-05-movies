"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[53],{355:function(e,t,n){n.d(t,{Bt:function(){return l},k8:function(){return d},kG:function(){return p},wr:function(){return u},y:function(){return o}});var r=n(861),s=n(757),i=n.n(s),a=n(243),c="b736543dbc75e71c808e6920558bf547";a.Z.defaults.baseURL="https://api.themoviedb.org/3";var o=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/movie/".concat(t,"/credits?api_key=").concat(c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(i().mark((function e(){var t,n;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/trending/movie/week?api_key=".concat(c));case 2:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.Z.get("/movie/".concat(t,"?api_key=").concat(c));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(i().mark((function e(t){var n,r=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=3,a.Z.get("/search/movie?api_key=".concat(c,"&query=").concat(t,"&page=").concat(n,"&per_page=20"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},53:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(439),s=n(791),i=n(689),a=n(87),c=n(355),o=n(635),u=n(25),l=n(591),d=n(184),p=function(e){var t=e.movieDetails,n=t.title,r=t.overview,s=t.poster_path,i=t.release_date,a=t.vote_average,c=t.genres,u=i?i.split("-")[0]:"-",p=a?Math.round(10*a):"-",f=c?c.map((function(e){return e.name})).join(" | "):"-";return(0,d.jsxs)("div",{className:o.Z.moviesInfo,children:[(0,d.jsx)("img",{src:s?"https://image.tmdb.org/t/p/original".concat(s):l,width:200,alt:"poster"}),(0,d.jsxs)("div",{className:o.Z.moviesInfo_list,children:[(0,d.jsxs)("p",{className:o.Z.moviesInfo_list,children:[n," (",u,")"]}),(0,d.jsxs)("p",{className:o.Z.moviesInfo_list,children:["User score: ",p,"%"]}),(0,d.jsx)("p",{className:o.Z.moviesInfo_lists,children:"Overview"}),(0,d.jsx)("p",{className:o.Z.moviesInfo_list,children:r}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:o.Z.moviesInfo_lists,children:"Genres:"}),(0,d.jsx)("p",{className:o.Z.moviesInfo_list,children:f})]})]})," "]})},f=function(){var e,t,n=(0,i.UO)().movieId,l=(0,s.useState)(null),f=(0,r.Z)(l,2),v=f[0],m=f[1],h=(0,s.useState)(null),x=(0,r.Z)(h,2),Z=x[0],_=x[1],j=(0,s.useState)(!1),k=(0,r.Z)(j,2),w=k[0],g=k[1],b=(0,i.TH)(),N=(0,s.useRef)(null!==(e=null===(t=b.state)||void 0===t?void 0:t.from)&&void 0!==e?e:"/");return(0,s.useEffect)((function(){g(!0),(0,c.k8)(n).then((function(e){m(e.data),g(!1)})).catch((function(e){console.error("Error fetching movie details:",e),_(!0),g(!1)}))}),[n]),(0,d.jsxs)("div",{children:[(0,d.jsx)(a.OL,{to:N.current,children:(0,d.jsx)("button",{type:"button",className:o.Z.back_btn,children:"Go back"})}),w?(0,d.jsx)(u.Z,{}):(0,d.jsxs)("div",{children:[v&&(0,d.jsx)(p,{movieDetails:v}),(0,d.jsxs)("div",{className:o.Z.additional,children:[(0,d.jsx)("p",{className:o.Z.additional_lists,children:"Additional information:"}),(0,d.jsxs)("ul",{className:o.Z.additional_list,children:[(0,d.jsx)("li",{children:(0,d.jsx)(a.OL,{to:"cast",className:o.Z.additional_link,children:"Cast"})}),(0,d.jsx)("li",{children:(0,d.jsx)(a.OL,{to:"reviews",className:o.Z.additional_link,children:"Reviews"})})]})]}),(0,d.jsx)(i.j3,{})]}),Z&&(0,d.jsx)("p",{children:"Error..."})]})}},591:function(e,t,n){e.exports=n.p+"static/media/no image available.08ba4a3915c0ff049252.jpg"}}]);
//# sourceMappingURL=53.26920b74.chunk.js.map