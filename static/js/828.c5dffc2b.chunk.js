"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[828],{355:function(e,t,n){n.d(t,{Bt:function(){return f},k8:function(){return p},kG:function(){return h},wr:function(){return o},y:function(){return i}});var r=n(861),a=n(757),c=n.n(a),u=n(243),s="b736543dbc75e71c808e6920558bf547";u.Z.defaults.baseURL="https://api.themoviedb.org/3";var i=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/credits?api_key=").concat(s));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),o=function(){var e=(0,r.Z)(c().mark((function e(){var t,n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/trending/movie/week?api_key=".concat(s));case 2:return t=e.sent,n=t.data,e.abrupt("return",n.results);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"/reviews?api_key=").concat(s));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("/movie/".concat(t,"?api_key=").concat(s));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(c().mark((function e(t){var n,r=arguments;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:1,e.next=3,u.Z.get("/search/movie?api_key=".concat(s,"&query=").concat(t,"&page=").concat(n,"&per_page=20"));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},130:function(e,t,n){var r=n(689),a=n(87),c=n(635),u=n(184);t.Z=function(e){var t=e.movies,n=(0,r.TH)();return(0,u.jsx)("ul",{className:c.Z.movie_list,children:t.map((function(e){return(0,u.jsx)("li",{children:(0,u.jsx)(a.OL,{to:"/movies/".concat(e.id),state:{from:n},className:c.Z.movie_list_link,children:e.title})},e.id)}))})}},828:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var r=n(439),a=n(791),c=n(87),u=n(689),s=n(355),i=n(25),o=n(130),f=n(635),p=n(184),h=function(e){var t=e.handleSubmit;return(0,p.jsx)("div",{children:(0,p.jsxs)("form",{className:f.Z.search_form,onSubmit:t,children:[(0,p.jsx)("label",{htmlFor:"search"}),(0,p.jsx)("input",{type:"text",name:"search",required:!0}),(0,p.jsx)("button",{className:f.Z.search_btm,tepe:"submit",children:"Search"})]})})},l=function(){var e=(0,c.lr)(),t=(0,r.Z)(e,2),n=t[0],l=t[1],v=n.get("query"),m=(0,a.useState)([]),d=(0,r.Z)(m,2),x=d[0],Z=d[1],b=(0,a.useState)(!1),k=(0,r.Z)(b,2),_=k[0],w=k[1],g=(0,a.useState)(),y=(0,r.Z)(g,2),j=y[0],S=y[1],N=(0,u.TH)();(0,a.useEffect)((function(){v&&(w(!0),(0,s.kG)(v).then((function(e){Z(e.data.results),w(!1)})).catch((function(e){S(e),w(!1)})))}),[v]);return(0,p.jsxs)("div",{className:f.Z.search,children:[(0,p.jsx)(h,{handleSubmit:function(e){e.preventDefault();var t=e.target.children.search.value.trim();l({query:t})},searchQuery:v}),j&&(0,p.jsx)("p",{children:j.message}),_&&(0,p.jsx)(i.Z,{}),x.length>0&&(0,p.jsx)(o.Z,{state:{from:N},movies:x})]})}}}]);
//# sourceMappingURL=828.c5dffc2b.chunk.js.map