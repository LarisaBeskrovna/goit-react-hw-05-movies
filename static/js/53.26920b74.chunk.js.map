{"version":3,"file":"static/js/53.26920b74.chunk.js","mappings":"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","sources":["Api.js","components/MoviesInfo.jsx","pages/MovieDetails.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'b736543dbc75e71c808e6920558bf547';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nexport const fetchCast = async movieId => {\n  return await axios.get(`/movie/${movieId}/credits?api_key=${API_KEY}`);\n};\n\nexport const fetchTrendingMovies = async () => {\n  const { data } = await axios.get(`/trending/movie/week?api_key=${API_KEY}`);\n  return data.results;\n};\n\nexport const fetchReviews = async movieId => {\n  return await axios.get(`/movie/${movieId}/reviews?api_key=${API_KEY}`);\n};\n\nexport const movieDetail = async movieId => {\n  return await axios.get(`/movie/${movieId}?api_key=${API_KEY}`);\n};\n\nexport const fetchOnSearchParams = async (query, page = 1) => {\n  return await axios.get(\n    `/search/movie?api_key=${API_KEY}&query=${query}&page=${page}&per_page=20`\n  );\n};\n","import defaultImg from '../img/no image available.jpg';\nimport css from '../index.module.css';\n\nconst MoviesInfo = ({ movieDetails }) => {\n  const { title, overview, poster_path, release_date, vote_average, genres } =\n    movieDetails;\n  const year = release_date ? release_date.split('-')[0] : '-';\n  const userScore = vote_average ? Math.round(vote_average * 10) : '-';\n  const genresAll = genres ? genres.map(genre => genre.name).join(' | ') : '-';\n\n  return (\n    <div className={css.moviesInfo}>\n      <img\n        src={\n          poster_path\n            ? `https://image.tmdb.org/t/p/original${poster_path}`\n            : defaultImg\n        }\n        width={200}\n        alt=\"poster\"\n      />\n      <div className={css.moviesInfo_list}>\n        <p className={css.moviesInfo_list}>\n          {title} ({year})\n        </p>\n        <p className={css.moviesInfo_list}>User score: {userScore}%</p>\n\n        <p className={css.moviesInfo_lists}>{'Overview'}</p>\n        <p className={css.moviesInfo_list}>{overview}</p>\n\n        <div>\n          <p className={css.moviesInfo_lists}>{'Genres:'}</p>\n          <p className={css.moviesInfo_list}>{genresAll}</p>\n        </div>\n      </div>{' '}\n    </div>\n  );\n};\nexport default MoviesInfo;\n","import { useEffect, useRef, useState } from 'react';\nimport { NavLink, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { movieDetail } from '../Api';\nimport css from '../index.module.css';\nimport Loader from '../components/Loader';\nimport MoviesInfo from '../components/MoviesInfo';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const location = useLocation();\n  const backLinkLocationRef = useRef(location.state?.from ?? '/');\n\n  useEffect(() => {\n    setLoading(true);\n    const source = movieDetail(movieId);\n    source\n      .then(res => {\n        setMovieDetails(res.data);\n        setLoading(false);\n      })\n      .catch(error => {\n        console.error('Error fetching movie details:', error);\n        setError(true);\n        setLoading(false);\n      });\n    //return () => {\n    //source.cancel();\n    //};\n  }, [movieId]);\n\n  return (\n    <div>\n      <NavLink to={backLinkLocationRef.current}>\n        <button type=\"button\" className={css.back_btn}>\n          Go back\n        </button>\n      </NavLink>\n\n      {loading ? (\n        <Loader />\n      ) : (\n        <div>\n          {movieDetails && <MoviesInfo movieDetails={movieDetails} />}\n\n          <div className={css.additional}>\n            <p className={css.additional_lists}>Additional information:</p>\n            <ul className={css.additional_list}>\n              <li>\n                <NavLink to=\"cast\" className={css.additional_link}>\n                  Cast\n                </NavLink>\n              </li>\n              <li>\n                <NavLink to=\"reviews\" className={css.additional_link}>\n                  Reviews\n                </NavLink>\n              </li>\n            </ul>\n          </div>\n          <Outlet />\n        </div>\n      )}\n      {error && <p>Error...</p>}\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["API_KEY","axios","fetchCast","movieId","fetchTrendingMovies","data","results","fetchReviews","movieDetail","fetchOnSearchParams","query","page","movieDetails","title","overview","poster_path","release_date","vote_average","genres","year","split","userScore","Math","round","genresAll","map","genre","name","join","className","css","src","defaultImg","width","alt","useParams","useState","setMovieDetails","error","setError","loading","setLoading","location","useLocation","backLinkLocationRef","useRef","state","from","useEffect","then","res","catch","console","to","current","type","Loader"],"sourceRoot":""}